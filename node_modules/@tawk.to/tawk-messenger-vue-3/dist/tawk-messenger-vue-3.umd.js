(function(a,d){typeof exports=="object"&&typeof module!="undefined"?module.exports=d():typeof define=="function"&&define.amd?define(d):(a=typeof globalThis!="undefined"?globalThis:a||self,a["tawk-messenger-vue-3"]=d())})(this,function(){"use strict";function a({propertyId:i="",widgetId:t="",embedId:e="",basePath:o="tawk.to",autoStart:s=!0}){if(e.length){if(!document.getElementById(e)){const p=document.createElement("div");p.id=e,document.body.appendChild(p)}window.Tawk_API.embedded=e}s||(window.Tawk_API.autoStart=s);const n=document.createElement("script");n.async=!0,n.src=`https://embed.${o}/${i}/${t}`,n.charset="UTF-8",n.setAttribute("crossorigin","*");const r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r)}function d(i){return!i||i.length===0?!1:i!=null&&typeof i=="string"}class w{constructor(t,e){!d(e.propertyId)||!d(e.widgetId)||(this.app=t,this.propertyId=e.propertyId,this.widgetId=e.widgetId,this.embedId=e.embedId,this.autoStart=e.autoStart,this.customStyle=e.customStyle,this.basePath=e.basePath,this.load())}load(){!window||!document||(window.Tawk_API=window.Tawk_API||{},window.Tawk_LoadStart=new Date,a({propertyId:this.propertyId,widgetId:this.widgetId,embedId:this.embedId,basePath:this.basePath,autoStart:this.autoStart}),this.init())}init(){this.customStyle&&typeof this.customStyle=="object"&&(window.Tawk_API.customStyle=this.customStyle),typeof this.app=="object"&&(this.provideActions(),this.provideGetters(),this.provideListeners(),this.provideSetters())}provideActions(){this.app.provide("start",()=>{window.Tawk_API.start()}),this.app.provide("shutdown",()=>{window.Tawk_API.shutdown()}),this.app.provide("maximize",()=>{window.Tawk_API.maximize()}),this.app.provide("minimize",()=>{window.Tawk_API.minimize()}),this.app.provide("toggle",()=>{window.Tawk_API.toggle()}),this.app.provide("popup",()=>{window.Tawk_API.popup()}),this.app.provide("showWidget",()=>{window.Tawk_API.showWidget()}),this.app.provide("hideWidget",()=>{window.Tawk_API.hideWidget()}),this.app.provide("toggleVisibility",()=>{window.Tawk_API.toggleVisibility()}),this.app.provide("endChat",()=>{window.Tawk_API.endChat()})}provideGetters(){this.app.provide("getWindowType",()=>window.Tawk_API.getWindowType()),this.app.provide("getStatus",()=>window.Tawk_API.getStatus()),this.app.provide("isChatMaximized",()=>window.Tawk_API.isChatMaximized()),this.app.provide("isChatMinimized",()=>window.Tawk_API.isChatMinimized()),this.app.provide("isChatHidden",()=>window.Tawk_API.isChatHidden()),this.app.provide("isChatOngoing",()=>window.Tawk_API.isChatOngoing()),this.app.provide("isVisitorEngaged",()=>window.Tawk_API.isVisitorEngaged()),this.app.provide("onLoaded",()=>window.Tawk_API.onLoaded),this.app.provide("onBeforeLoaded",()=>window.Tawk_API.onBeforeLoaded),this.app.provide("widgetPosition",()=>window.Tawk_API.widgetPosition())}provideListeners(){this.app.provide("onLoad",t=>{window.addEventListener("tawkLoad",()=>{t()})}),this.app.provide("onStatusChange",t=>{window.addEventListener("tawkStatusChange",e=>{t(e.detail)})}),this.app.provide("onBeforeLoad",t=>{window.addEventListener("tawkBeforeLoad",()=>{t()})}),this.app.provide("onChatMaximized",t=>{window.addEventListener("tawkChatMaximized",()=>{t()})}),this.app.provide("onChatMinimized",t=>{window.addEventListener("tawkChatMinimized",()=>{t()})}),this.app.provide("onChatHidden",t=>{window.addEventListener("tawkChatHidden",()=>{t()})}),this.app.provide("onChatStarted",t=>{window.addEventListener("tawkChatStarted",()=>{t()})}),this.app.provide("onChatEnded",t=>{window.addEventListener("tawkChatEnded",()=>{t()})}),this.app.provide("onPrechatSubmit",t=>{window.addEventListener("tawkPrechatSubmit",e=>{t(e.detail)})}),this.app.provide("onOfflineSubmit",t=>{window.addEventListener("tawkOfflineSubmit",e=>{t(e.detail)})}),this.app.provide("onChatMessageVisitor",t=>{window.addEventListener("tawkChatMessageVisitor",e=>{t(e.detail)})}),this.app.provide("onChatMessageAgent",t=>{window.addEventListener("tawkChatMessageAgent",e=>{t(e.detail)})}),this.app.provide("onChatMessageSystem",t=>{window.addEventListener("tawkChatMessageSystem",e=>{t(e.detail)})}),this.app.provide("onAgentJoinChat",t=>{window.addEventListener("tawkAgentJoinChat",e=>{t(e.detail)})}),this.app.provide("onAgentLeaveChat",t=>{window.addEventListener("tawkAgentLeaveChat",e=>{t(e.detail)})}),this.app.provide("onChatSatisfaction",t=>{window.addEventListener("tawkChatSatisfaction",e=>{t(e.detail)})}),this.app.provide("onVisitorNameChanged",t=>{window.addEventListener("tawkVisitorNameChanged",e=>{t(e.detail)})}),this.app.provide("onFileUpload",t=>{window.addEventListener("tawkFileUpload",e=>{t(e.detail)})}),this.app.provide("onTagsUpdated",t=>{window.addEventListener("tawkTagsUpdated",e=>{t(e.detail)})}),this.app.provide("onUnreadCountChanged",t=>{window.addEventListener("tawkUnreadCountChanged",e=>{t(e.detail)})})}provideSetters(){this.app.provide("visitor",t=>{window.Tawk_API.visitor=t}),this.app.provide("setAttributes",(t,e)=>{window.Tawk_API.setAttributes(t,e)}),this.app.provide("addEvent",(t,e,o)=>{window.Tawk_API.addEvent(t,e,o)}),this.app.provide("addTags",(t,e)=>{window.Tawk_API.addTags(t,e)}),this.app.provide("removeTags",(t,e)=>{window.Tawk_API.removeTags(t,e)}),this.app.provide("switchWidget",(t,e)=>{window.Tawk_API.switchWidget(t,e)})}}var h={install:(i,t={})=>{if(!d(t.propertyId)){console.error("[Tawk-messenger-vue warn]: You didn't specified 'propertyId' property in the plugin.");return}if(!d(t.widgetId)){console.error("[Tawk-messenger-vue warn]: You didn't specified 'widgetId' property in the plugin.");return}new w(i,t)}};return h});
