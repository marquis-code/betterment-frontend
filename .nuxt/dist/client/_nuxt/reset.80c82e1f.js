import{r as i,u as w,n as _,z as f,q as g,o as y,c as h,a as e,J as b,s as p,v as m,x as o,t as x}from"./entry.d021d1c2.js";import{_ as v}from"./logo.6c7fcc80.js";function P(){const a=i(!1),n=w();return{processing:a,resetPassword:async t=>{a.value=!0;const s=`
      mutation resetPassword($email: String!, $newPassword: String!, $resetCode: String!) {
        resetPassword(email: $email, newPassword: $newPassword, resetCode: $resetCode)
      }
    `;try{const r=await(await fetch("https://clone-better.onrender.com/graphql/query",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({query:s,variables:{email:t.email,newPassword:t.password,resetCode:t.resetCode}})})).json();r!=null&&r.errors?console.error(r.errors[0].message):(localStorage.removeItem("user-email"),n.push("/login"),window.location.href="/login")}finally{a.value=!1}}}}const S={class:"h-screen"},C={class:"flex justify-center items-center pt-20 container mx-auto"},k={class:"w-full max-w-md p-8 space-y-6 rounded-xl bg-white"},$=e("img",{class:"h-10 w-auto",src:v,alt:"Your Company"},null,-1),q=e("h1",{class:"text-3xl font-bold"},"Almost Done!",-1),M=e("p",{class:"text-gray-500 text-sm leading-loose"}," Please enter your reset password token and your new password. ",-1),N=["onSubmit"],j={class:"space-y-1 text-sm w-full"},B=e("label",{for:"token",class:"block text-gray-900 font-medium"},"Token",-1),D={class:"space-y-1 text-sm w-full"},I=e("label",{for:"password",class:"block text-gray-900 font-medium"},"New Password",-1),J={class:"w-full"},O=["disabled"],V=_({__name:"reset",setup(a){const{processing:n,resetPassword:c}=P(),t=i(""),s=i({resetCode:"",email:window.localStorage.getItem("user-email"),password:""});f(()=>!!(s.value.password&&s.value.resetCode));const u=()=>{c(s.value)};return g(()=>{t.value=JSON.parse(window.localStorage.getItem("user-email"))}),(r,l)=>(y(),h("div",S,[e("section",C,[e("div",k,[$,q,M,e("form",{class:"space-y-10",onSubmit:b(u,["prevent"])},[e("div",j,[B,p(e("input",{id:"token","onUpdate:modelValue":l[0]||(l[0]=d=>o(s).resetCode=d),type:"tel",name:"token",placeholder:"email",class:"border w-full outline-none px-4 py-3 rounded-md border-gray-900 text-gray-900"},null,512),[[m,o(s).resetCode]])]),e("div",D,[I,p(e("input",{id:"password","onUpdate:modelValue":l[1]||(l[1]=d=>o(s).password=d),type:"password",name:"password",placeholder:"password",class:"border w-full outline-none px-4 py-3 rounded-md border-gray-900 text-gray-900"},null,512),[[m,o(s).password]])]),e("div",J,[e("button",{disabled:o(n),class:"w-full shrink-0 text-sm disabled:cursor-not-allowed disabled:opacity-25 rounded-md border border-green-500 bg-green-600 px-12 py-3 font-medium text-white transition"},x(o(n)?"processing...":"Submit"),9,O)])],40,N)])])]))}});export{V as default};
