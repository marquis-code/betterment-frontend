import{n as W,u as Q,r as u,q as X,o as h,c as v,a as e,d as V,t as c,s as E,v as Z,x as l,y as N,p as R,e as O,_ as z,z as p,A as oe,B as ee,C as le,D as K,F as ne,E as ae,G as de,b as J,w as ie,H as re}from"./entry.50b5a30e.js";import{u as ce}from"./useTransaction.c91e8401.js";import{u as ue}from"./user.3a31c8fb.js";import{_ as pe}from"./Modal.vue.dcbdccdf.js";import{u as me}from"./useAdminInfo.05f9d30b.js";import{d as F}from"./assets.b5a832d5.js";const $=t=>(R("data-v-7f1e193c"),t=t(),O(),t),he={class:"max-w-4xl p-6 bg-gray-900 rounded-lg shadow-lg space-y-6"},ge=$(()=>e("h1",{class:"text-lg font-medium text-white"},"UPLOAD",-1)),be={class:"bg-gray-800 p-6 rounded-lg shadow-md"},ve={class:"text-gray-300 mb-4"},xe={class:"text-white font-bold"},_e={class:"flex flex-col mb-4 space-y-3"},fe={class:"text-gray-400 font-medium text-sm"},ye={class:"flex-1 bg-gray-700 text-white rounded-md px-4 py-2 flex items-center justify-between"},we={class:"truncate"},$e={class:"grid grid-cols-2 gap-4 mb-4"},Ce=$(()=>e("p",{class:"text-gray-400 font-medium mb-2 text-sm"},"Pay in USD",-1)),ke={class:"text-gray-400 font-medium mb-2 text-sm"},Me={class:"flex items-center bg-gray-700 text-white rounded-lg px-4 py-2"},Ae={class:"flex-1"},Se={class:"bg-gray-800 p-6 rounded-lg shadow-md"},Te=$(()=>e("h2",{class:"text-white font-medium mb-2"},"Deposit",-1)),Ue=$(()=>e("p",{class:"text-gray-400 mb-4 text-sm"}," During this process, we will likely not accept any unclear screenshots or an upload that is not in line with your transaction. ",-1)),Ve={key:0,class:"flex flex-col items-center justify-center text-center"},De=$(()=>e("p",{class:"text-gray-300 mb-2"},"File Preview:",-1)),Le=["src"],Be={key:1,class:"border-2 border-dashed border-gray-600 p-10 flex flex-col items-center justify-center rounded-lg text-center"},je=$(()=>e("label",{for:"file-upload",class:"cursor-pointer flex justify-center items-center flex-col"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-12 h-12 text-white mb-2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v4a2 2 0 002 2h3v4a2 2 0 002 2h4a2 2 0 002-2v-4h3a2 2 0 002-2V7m-9 10V4m0 0L7 7m5-3l5 3"})]),e("p",{class:"text-gray-300"},"Click the icon above to upload file")],-1)),Ie={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},Ne={class:"bg-gray-800 p-6 rounded-lg shadow-lg max-w-md w-full"},Pe=$(()=>e("h2",{class:"text-white font-medium mb-4"},"Change Receipt",-1)),He=$(()=>e("p",{class:"text-gray-400 mb-4 text-sm"},"Select a new receipt image to upload:",-1)),Fe={class:"flex justify-end space-x-2"},qe=W({__name:"UploadProof",props:{selectedMethodLabel:{type:String,required:!0},selectedWalletAddress:{type:String,required:!0},selectedMethod:{type:String,required:!0},amount:{type:String,required:!0},computedAmount:{type:String,required:!0}},emits:["file-uploaded"],setup(t,{emit:C}){const s=t,{handleTransaction:k,form:T,setFormData:x}=ce(),a=Q(),g=u(""),d=u(null),_=u(null),b=u(null),M=u(null),f=u(!1);X(()=>{g.value=s.amount});const A=i=>{navigator.clipboard.writeText(i).then(()=>{alert("Copied to clipboard!")})},U=()=>{var i;(i=d.value)==null||i.click()},S=i=>{const o=i.target;if(o.files&&o.files[0]){const m=o.files[0],L=new FileReader;L.onload=B=>{var j,I;b.value=(j=B.target)==null?void 0:j.result,M.value=(I=B.target)==null?void 0:I.result},L.readAsDataURL(m)}},y=()=>{if(M.value){const i={wallet:s.selectedWalletAddress,proof:M.value,amount:s.amount};x(i),k()}else alert("Please upload a file first.")};return(i,o)=>(h(),v("div",he,[ge,e("div",be,[e("p",ve,[V(" If you have made a transfer of "),e("span",xe,c(t.amount),1),V(" to the provided wallet address, kindly upload your proof of payment here. ")]),e("div",_e,[e("p",fe,c(t.selectedMethodLabel)+" Wallet Address:",1),e("div",ye,[e("span",we,c(t.selectedWalletAddress),1),e("button",{onClick:o[0]||(o[0]=m=>A(t.selectedWalletAddress)),class:"bg-blue-500 text-sm text-white p-2 rounded-lg hover:bg-blue-400"}," Copy ")])]),e("div",$e,[e("div",null,[Ce,E(e("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=m=>g.value=m),class:"w-full bg-gray-700 text-white rounded-lg px-4 py-4",readonly:""},null,512),[[Z,g.value]])]),e("div",null,[e("p",ke,"Pay in "+c(t.selectedMethodLabel),1),e("div",Me,[e("span",Ae,c(t.computedAmount),1),e("button",{onClick:o[2]||(o[2]=m=>A(t.computedAmount)),class:"bg-blue-500 text-sm text-white p-2 rounded-lg hover:bg-blue-400"}," Copy ")])])]),e("button",{onClick:o[3]||(o[3]=m=>l(a).push("/dashboard/deposits?stage=deposit-details")),class:"bg-green-500 text-white py-2 px-4 rounded-md hover:bg-green-400"},"Change deposit amount")]),e("div",Se,[Te,Ue,b.value?(h(),v("div",Ve,[De,e("img",{src:b.value,alt:"File preview",class:"w-full h-64 object-cover rounded-lg shadow-md"},null,8,Le),e("button",{class:"mt-4 bg-yellow-500 text-white py-2 px-4 rounded-lg hover:bg-yellow-400",onClick:o[4]||(o[4]=m=>f.value=!0)},"Change Receipt")])):(h(),v("div",Be,[e("input",{type:"file",onChange:S,class:"hidden",ref_key:"fileInput",ref:d,accept:"image/*"},null,544),je,e("button",{class:"mt-4 text-white bg-blue-500 hover:bg-blue-400 text-sm py-2 px-4 rounded-md",onClick:U},"Upload File")]))]),e("div",{class:"flex justify-center"},[e("button",{class:"bg-blue-500 text-white py-2 px-6 rounded-lg hover:bg-blue-400",onClick:y},"Send")]),f.value?(h(),v("div",Ie,[e("div",Ne,[Pe,He,e("input",{type:"file",onChange:S,ref_key:"fileInputModal",ref:_,accept:"image/*",class:"mb-4"},null,544),e("div",Fe,[e("button",{onClick:o[5]||(o[5]=m=>f.value=!1),class:"bg-red-500 text-white py-2 px-4 rounded-lg hover:bg-red-400"},"Cancel"),e("button",{onClick:o[6]||(o[6]=m=>f.value=!1),class:"bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-400"},"Update")])])])):N("",!0)]))}});const Ee=z(qe,[["__scopeId","data-v-7f1e193c"]]),q={BTC:25e-6,USDT:1,ETH:38e-5};function w(t){const C=p(()=>(t*q.BTC).toFixed(8)),s=p(()=>(t*q.USDT).toFixed(2)),k=p(()=>(t*q.ETH).toFixed(8));return{btcValue:C,usdtValue:s,ethValue:k}}const P=t=>(R("data-v-c8aaf826"),t=t(),O(),t),We={class:"flex items-center justify-center bg-black bg-opacity-50"},Re={class:"bg-gray-800 rounded-lg shadow-lg w-[500px] p-6 relative"},Oe=P(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)),ze=[Oe],Ye=P(()=>e("h2",{class:"text-white text-lg font-semibold mb-4"},"Deposit",-1)),Ge={class:"text-gray-400 mb-4"},Ke={class:"text-white font-bold"},Je={class:"bg-gray-700 text-white rounded-lg px-4 py-2 flex justify-between items-center"},Qe={class:"truncate"},Xe={key:0,class:"max-w-lg mx-auto bg-green-100 rounded-lg shadow-lg p-6 mt-5"},Ze={class:"text-sm font-medium text-green-800 mb-4"},et={class:"font-medium"},tt={class:"flex justify-between items-center"},st={class:"flex-1 mr-4"},ot=P(()=>e("p",{class:"text-green-800 font-medium text-sm mb-2"},"Pay in USD",-1)),lt={class:"flex items-center bg-gray-700 text-white rounded-lg px-4 py-2"},nt={class:"flex-1"},at=P(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7h4m-2-2v6m2 2H6v5a2 2 0 002 2h8a2 2 0 002-2v-5m-2 2H8v-4m8 4v-2a2 2 0 00-2-2H6"})],-1)),dt=[at],it={class:"flex-1"},rt={class:"text-green-800 font-medium text-sm mb-2"},ct={class:"flex items-center bg-gray-700 text-white rounded-lg px-4 py-2"},ut={class:"flex-1"},pt=P(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 7h4m-2-2v6m2 2H6v5a2 2 0 002 2h8a2 2 0 002-2v-5m-2 2H8v-4m8 4v-2a2 2 0 00-2-2H6"})],-1)),mt=[pt],ht=W({__name:"AccountModal",props:{selectedMethodLabel:{type:String},selectedWalletAddress:{type:String},selectedMethod:{type:String},amount:{type:String}},emits:["closeModal","paymentComplete"],setup(t,{emit:C}){const s=t,{$toast:k}=ee();oe();const{user:T}=ue();w(Number(s.amount));const x=p(()=>w(Number(s.amount)).btcValue.value),a=p(()=>w(Number(s.amount)).usdtValue.value),g=p(()=>w(Number(s.amount)).ethValue.value);p(()=>{if(s.selectedMethod==="BTC")return x.value;if(s.selectedMethod==="ETH")return g.value;if(s.selectedMethod==="USDT")return a.value});const d=p(()=>`$${s.amount.toLocaleString()}`),_=u(!1),b=()=>{C("closeModal")},M=()=>{C("closeModal"),C("paymentComplete")},f=()=>{navigator.clipboard.writeText(s.selectedWalletAddress).then(()=>{k(`${s.selectedMethodLabel} Address copied to clipboard`,{theme:"auto",type:"success",dangerouslyHTMLString:!0}),_.value=!0})},A=u("0.73761272"),U=S=>{navigator.clipboard.writeText(S).then(()=>{alert("Copied to clipboard!")})};return(S,y)=>(h(),v("div",We,[e("div",Re,[e("button",{onClick:b,class:"absolute top-3 right-3 text-gray-400 hover:text-gray-200"},ze),Ye,e("p",Ge,[V(" You are to make a deposit of "),e("span",Ke,c(l(d)),1),V(" USD into provided "+c(t.selectedMethodLabel)+" address. ",1)]),e("div",Je,[e("span",Qe,c(t.selectedWalletAddress),1),e("button",{onClick:f,class:"bg-gray-600 text-sm text-white px-4 py-2 rounded-lg hover:bg-gray-500"}," Copy ")]),_.value?(h(),v("div",Xe,[e("p",Ze,[V(" Hey "),e("span",et,c(l(T).name??"Nil"),1),V(" ðŸ‘‹ Kindly upload your proof of payment when you've made payment ")]),e("div",tt,[e("div",st,[ot,e("div",lt,[e("span",nt,c(t.amount),1),e("button",{onClick:y[0]||(y[0]=i=>U(Number(t.amount))),class:"bg-blue-500 text-white p-2 rounded-lg hover:bg-blue-400"},dt)])]),e("div",it,[e("p",rt,"Pay in "+c(t.selectedMethodLabel),1),e("div",ct,[e("span",ut,c(A.value),1),e("button",{onClick:y[1]||(y[1]=i=>U(A.value)),class:"bg-blue-500 text-white p-2 rounded-lg hover:bg-blue-400"},mt)])])]),e("div",{class:"mt-6"},[e("button",{onClick:M,class:"bg-transparent text-sm border border-orange-400 text-orange-400 font-semibold py-2 px-6 rounded-lg hover:bg-orange-50"}," I have paid? ")])])):N("",!0),e("button",{onClick:b,class:"mt-6 w-full bg-gray-500 text-white py-3 rounded-lg hover:bg-gray-400"}," Close ")])]))}});const gt=z(ht,[["__scopeId","data-v-c8aaf826"]]),D=t=>(R("data-v-5f5c4d95"),t=t(),O(),t),bt={key:0,class:"max-w-4xl bg-gray-800 rounded-xl shadow-lg p-6 space-y-6 lg:space-y-0 lg:flex"},vt={class:"flex-1"},xt=D(()=>e("h1",{class:"text-white text-lg font-semibold mb-6"},"DEPOSIT ",-1)),_t={class:"flex mb-4"},ft={key:0,class:"space-y-7"},yt={class:"mb-4"},wt=D(()=>e("label",{class:"text-white block mb-2"},"Select Amount",-1)),$t={class:"mb-4"},Ct=D(()=>e("label",{class:"text-white block mb-2"},"Enter Amount",-1)),kt=["value"],Mt={class:"mb-6"},At=D(()=>e("label",{class:"text-white block mb-2"},"Select Payment Method",-1)),St={class:"grid grid-cols-2 gap-4"},Tt=["onClick"],Ut={class:"flex items-center"},Vt=["src"],Dt={class:"text-gray-700 font-semibold text-sm"},Lt=["value"],Bt={class:"lg:ml-8 bg-gray-700 rounded-lg p-6 flex flex-col justify-between lg:w-64"},jt={class:"flex justify-between items-center text-sm"},It=D(()=>e("h2",{class:"text-white text-sm font-semibold mb-4"},"Total Deposit",-1)),Nt={class:"text-white text-sm mb-6"},Pt=D(()=>e("div",null,[e("p",{class:"text-white text-center mb-4"},"Don't have cryptocurrency?"),e("button",{class:"bg-red-500 text-white w-full py-3 text-xs rounded-sm font-semibold hover:bg-red-600 transition duration-300"}," Buy Now ")],-1)),Ht=W({__name:"index",setup(t){var L,B,j,I;const{loadingAdminInfo:C,adminData:s}=me(),{$toast:k}=ee(),T=Q(),x=le(),a=u(0),g=u(!1),d=u(null),_=u(null),b=u(null);w(Number(a.value));const M=p(()=>w(Number(a.value)).btcValue.value),f=p(()=>w(Number(a.value)).usdtValue.value),A=p(()=>w(Number(a.value)).ethValue.value),U=p(()=>{if(d.value==="BTC")return M.value;if(d.value==="ETH")return A.value;if(d.value==="USDT")return f.value});X(()=>{x.query.stage!=="deposit-details"&&T.replace({query:{...x.query,stage:"deposit-details"}})});const S=[{label:"Bitcoin (BTC)",value:"BTC",address:((B=(L=s==null?void 0:s.value)==null?void 0:L.admin)==null?void 0:B.btc)??"N/A",icon:F("btc.png")},{label:"Ethereum (ETH)",value:"ETH",address:((I=(j=s==null?void 0:s.value)==null?void 0:j.admin)==null?void 0:I.eth)??"N/A",icon:F("eth.png")},{label:"Tether US (USDT)",value:"USDT",address:"46875643578463578465894365",icon:F("usdt.png")}],y=(Y,n,H)=>{d.value=Y,_.value=n,b.value=H,k(`Your Selection is ${n}`,{theme:"auto",type:"success",dangerouslyHTMLString:!0})},i=p(()=>`$${a.value.toLocaleString()}`),o=u("default"),m=()=>{T.replace({query:{...x.query,stage:"upload-proof"}})};return(Y,n)=>{const H=Ee,te=gt,se=pe;return h(),v("main",null,[l(x).query.stage==="deposit-details"?(h(),v("div",bt,[e("div",vt,[xt,e("div",_t,[e("button",{onClick:n[0]||(n[0]=r=>o.value="default"),class:"bg-blue-500 text-white py-2 px-4 text-sm rounded-sm mr-2 hover:bg-blue-600 transition duration-300"}," Manual Deposit ")]),l(o)==="default"?(h(),v("section",ft,[e("div",yt,[wt,E(e("input",{type:"range",class:"w-full",min:"0",max:"100000",step:"1","onUpdate:modelValue":n[1]||(n[1]=r=>K(a)?a.value=r:null)},null,512),[[Z,l(a)]])]),e("div",$t,[Ct,e("input",{type:"text",class:"w-full p-2 py-3 rounded-md bg-gray-700 text-white border-0 outline-none",value:l(i),readonly:""},null,8,kt)]),e("div",Mt,[At,e("div",St,[(h(),v(ne,null,ae(S,r=>e("div",{key:r.label,class:"bg-white rounded-lg p-4 flex items-center justify-between cursor-pointer",onClick:G=>y(r.value,r.label,r.address)},[e("div",Ut,[e("img",{src:r.icon,alt:"method.label",class:"h-8 w-8 mr-2"},null,8,Vt),e("span",Dt,c(r.label),1)]),E(e("input",{type:"radio",name:"paymentMethod",value:r.value,"onUpdate:modelValue":n[2]||(n[2]=G=>K(d)?d.value=G:null)},null,8,Lt),[[re,l(d)]])],8,Tt)),64))])]),e("button",{onClick:n[3]||(n[3]=r=>g.value=!0),class:"bg-blue-500 text-white w-full py-3 rounded-sm text-sm hover:bg-blue-600 transition duration-300"}," Proceed to Payment ")])):N("",!0)]),e("div",Bt,[e("div",null,[e("div",jt,[It,e("p",Nt,c(l(i)),1)]),e("button",{onClick:n[4]||(n[4]=r=>l(T).push("/admin/dashboard/transactions")),class:"bg-green-500 text-white w-full py-2 rounded-md text-sm font-semibold hover:bg-green-600 transition duration-300 mb-4"}," View Deposit History ")]),Pt])])):N("",!0),l(x).query.stage==="upload-proof"?(h(),de(H,{key:1,computedAmount:l(U),selectedMethod:l(d),selectedMethodLabel:l(_),selectedWalletAddress:l(b),amount:l(a)},null,8,["computedAmount","selectedMethod","selectedMethodLabel","selectedWalletAddress","amount"])):N("",!0),J(se,{isOpen:l(g),onClose:n[6]||(n[6]=r=>g.value=!1)},{default:ie(()=>[J(te,{onPaymentComplete:m,onCloseModal:n[5]||(n[5]=r=>g.value=!1),selectedMethod:l(d),selectedMethodLabel:l(_),selectedWalletAddress:l(b),amount:l(a)},null,8,["selectedMethod","selectedMethodLabel","selectedWalletAddress","amount"])]),_:1},8,["isOpen"])])}}});const zt=z(Ht,[["__scopeId","data-v-5f5c4d95"]]);export{zt as default};
