import{r as b,n as _,o as h,c as w,a as e,J as v,s as p,v as m,x as y,t as x,y as U,p as D,e as k,_ as W}from"./entry.8102741e.js";import{u as S}from"./user.655c7c7f.js";import{u as I}from"./useUserInfo.30fb6ddf.js";function C(){const t=b(!1),{token:c}=S();return{processing:t,updateWallet:async(u,i)=>{t.value=!0;const n=`
      mutation updateUser($userId: String!, $input: UpdateUser!) {
        updateUser(userId: $userId, input: $input) {
          id
          name
          email
          Status
          PlanType
          accountBalance
          tradingBalance
          eth
          btc
          timeAdded
        }
      }
    `;try{const a=await(await fetch("https://clone-better.onrender.com/graphql/query",{method:"POST",headers:{"content-type":"application/json",authorization:`Bearer ${c.value}`},body:JSON.stringify({query:n,variables:{userId:u,input:i}})})).json();a!=null&&a.errors?console.error(a.errors[0].message):console.log("Wallet address was successfully updated")}finally{t.value=!1}}}}const r=t=>(D("data-v-96c88aa1"),t=t(),k(),t),B={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},j={class:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md"},M=r(()=>e("h2",{class:"text-xl font-medium"},"Update Crypto Wallet",-1)),O=["onSubmit"],V={class:"mt-4"},$=r(()=>e("label",{class:"block text-gray-700"},"Wallet Name",-1)),N={class:"mt-4"},q=r(()=>e("label",{class:"block text-gray-700"},"Wallet Address",-1)),T={class:"mt-4"},z=r(()=>e("label",{class:"block text-gray-700"},"Description",-1)),A={class:"mt-6 flex justify-end"},J=["disabled"],K=_({__name:"UpdateCryptoWalletModal",props:{isOpen:{type:Boolean},walletDetails:{}},emits:["close","update"],setup(t,{emit:c}){const d=t,{updateWallet:u,processing:i}=C(),{userData:n,loading:f}=I();b({...d.walletDetails});const a=()=>{c("close")},g=()=>{var l;const s={[d.walletDetails.code]:d.walletDetails.address};console.log(s,"wallet input here",n.value),(l=Object.keys(n==null?void 0:n.value))!=null&&l.length&&u(n.value.id,s).then(()=>{a()})};return(o,s)=>o.isOpen?(h(),w("div",B,[e("div",j,[e("div",{class:"flex justify-between items-center"},[M,e("button",{onClick:a,class:"text-gray-500 hover:text-gray-700"},"Ã—")]),e("form",{onSubmit:v(g,["prevent"])},[e("div",V,[$,p(e("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>o.walletDetails.name=l),type:"text",class:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring focus:ring-blue-300",disabled:""},null,512),[[m,o.walletDetails.name]])]),e("div",N,[q,p(e("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>o.walletDetails.address=l),type:"text",class:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring focus:ring-blue-300"},null,512),[[m,o.walletDetails.address]])]),e("div",T,[z,p(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=l=>o.walletDetails.description=l),rows:"3",class:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring focus:ring-blue-300",disabled:""},null,512),[[m,o.walletDetails.description]])]),e("div",A,[e("button",{onClick:a,type:"button",class:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600"},"Cancel"),e("button",{disabled:y(i),type:"submit",class:"ml-2 px-4 disabled:cursor-not-allowed disabled:opacity-25 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600"},x(y(i)?"processing..":"Update"),9,J)])],40,O)])])):U("",!0)}});const G=W(K,[["__scopeId","data-v-96c88aa1"]]);export{G as _,C as u};
