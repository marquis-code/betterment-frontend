import{n as C,r as a,A as S,P as E,z as x,o as m,c as h,a as e,J as V,s as f,v as k,x as l,K as M,D as R,t as W}from"./entry.8102741e.js";import{u as I}from"./useAdminInfo.d4ca96a5.js";import{u as N}from"./useTransaction.7e52f49e.js";import"./user.655c7c7f.js";const P={class:"lg:flex justify-start items-start gap-x-10 space-y-10 lg:space-y-0"},L={class:"bg-white lg:w-5/12 rounded-md border"},O=e("p",{class:"border-b text-sm font-semibold py-4 pl-6"}," Enter amount and upload proof of payment ",-1),z=["onSubmit"],J={class:"space-y-1"},K=e("label",{class:"text-xs text-gray-700 font-medium"},"Amount",-1),$={class:"space-y-4"},q=e("label",{class:"text-xs text-gray-700 font-medium"},"Withdrawal Type",-1),G=e("option",{value:"",disabled:""}," ---- Select withdrawal type ----- ",-1),H=e("option",{value:"bitcoin"}," Bitcoin ",-1),Q=e("option",{value:"ethereum"}," Ethereum ",-1),X=e("option",{value:"bank"}," Bank Account ",-1),Y=[G,H,Q,X],Z={class:"space-y-1"},ee=e("label",{class:"text-xs text-gray-700 font-medium"},"Wallet address",-1),te={class:"bg-gray-800 p-6 rounded-lg shadow-md"},oe=e("h2",{class:"text-white font-medium mb-2"},"Withdraw",-1),se=e("p",{class:"text-gray-400 mb-4 text-sm"}," During this process, we will likely not accept any unclear screenshots or an upload that is not in line with your transaction. ",-1),le={key:0,class:"flex flex-col items-center justify-center text-center"},ae=e("p",{class:"text-gray-300 mb-2"},"File Preview:",-1),ne=["src"],ie={key:1,class:"border-2 border-dashed border-gray-600 p-10 flex flex-col items-center justify-center rounded-lg text-center"},re=e("label",{for:"file-upload",class:"cursor-pointer flex justify-center items-center flex-col"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-12 h-12 text-white mb-2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v4a2 2 0 002 2h3v4a2 2 0 002 2h4a2 2 0 002-2v-4h3a2 2 0 002-2V7m-9 10V4m0 0L7 7m5-3l5 3"})]),e("p",{class:"text-gray-300"},"Click the icon above to upload file")],-1),de={class:"w-full pt-6"},ce=["disabled"],ye=C({__name:"[id]",setup(ue){const{loadingAdminInfo:pe,adminData:n}=I(),{handleTransaction:A,form:c,setFormData:B,processing:b}=N();a(""),a(null),a(!1);const y=a(null);a(null);const u=a(null),w=a(null),T=a(!1),j=S(),D=()=>{var s;(s=y.value)==null||s.click()},F=()=>{const s={amount:c.value.amount,wallet:d.value,proof:w.value};B(s),A().then(()=>{j.push("/dashboard/transactions")})},U=s=>{const t=s.target;if(t.files&&t.files[0]){const o=t.files[0],r=new FileReader;r.onload=_=>{var g,v;u.value=(g=_.target)==null?void 0:g.result,w.value=(v=_.target)==null?void 0:v.result},r.readAsDataURL(o)}},i=E({withdrawalType:""}),d=x(()=>i.withdrawalType==="bitcoin"?p.value[0].code:i.withdrawalType==="ethereum"?p.value[1].code:i.withdrawalType==="bank"?p.value[2].code:""),p=x(()=>{var s,t,o,r;return n!=null&&n.value&&Object.keys(n.value).length?[{name:"Bitcoin",code:((t=(s=n.value)==null?void 0:s.admin)==null?void 0:t.btc)??"N/A"},{name:"Ethereum erc-20",code:((r=(o=n.value)==null?void 0:o.admin)==null?void 0:r.eth)??"N/A"},{name:"Bank Account",code:"00907654378889"}]:[{name:"Bitcoin",code:""},{name:"Ethereum erc-20",code:""},{name:"Bank Account",code:""}]});return(s,t)=>(m(),h("main",P,[e("section",L,[O,e("form",{class:"p-6 space-y-6",onSubmit:V(F,["prevent"])},[e("div",J,[K,f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>l(c).amount=o),placeholder:"Enter amount in USD",type:"number",class:"py-3 border border-gray-600 text-sm rounded-md w-full outline-none pl-6"},null,512),[[k,l(c).amount]])]),e("div",$,[q,f(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>l(i).withdrawalType=o),class:"py-3 border border-gray-600 text-sm rounded-md w-full outline-none pl-6"},Y,512),[[M,l(i).withdrawalType]]),e("div",Z,[ee,f(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>R(d)?d.value=o:null),class:"py-3 bg-gray-50 border disabled border-gray-600 text-sm rounded-md w-full outline-none pl-6"},null,512),[[k,l(d)]])])]),e("div",te,[oe,se,l(u)?(m(),h("div",le,[ae,e("img",{src:l(u),alt:"File preview",class:"w-full h-64 object-cover rounded-lg shadow-md"},null,8,ne),e("button",{type:"button",class:"mt-4 bg-yellow-500 text-white py-2 px-4 rounded-lg hover:bg-yellow-400",onClick:t[3]||(t[3]=o=>T.value=!0)},"Change Receipt")])):(m(),h("div",ie,[e("input",{type:"file",onChange:U,class:"hidden",ref_key:"fileInput",ref:y,accept:"image/*"},null,544),re,e("button",{type:"button",class:"mt-4 text-white bg-blue-500 hover:bg-blue-400 text-sm py-2 px-4 rounded-md",onClick:D},"Upload File")]))]),e("div",de,[e("button",{type:"submit",disabled:l(b),class:"w-full text-white disabled:cursor-not-allowed disabled:opacity-25 bg-black py-3 px-3 rounded-md"},W(l(b)?"processing..":"Submit"),9,ce)])],40,z)])]))}});export{ye as default};
